# üì¶ Baraka - –û–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Baraka** ‚Äî —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–æ–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã, –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–∫–∞–∑–∞–º–∏, —Å–±–æ—Ä—â–∏–∫–∞–º —Å–æ–±–∏—Ä–∞—Ç—å –∑–∞–∫–∞–∑—ã, –∞ –∫—É—Ä—å–µ—Ä–∞–º –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∏—Ö.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Frontend:**
- **Next.js 16** (App Router) - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **React 19** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Tailwind CSS 4** - —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- **React Hook Form + Zod** - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º

**Backend:**
- **Supabase** - BaaS –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
  - **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  - **Supabase Auth** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  - **Supabase Storage** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - **Supabase Realtime** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–î–µ–ø–ª–æ–π:**
- **Vercel** - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- **Supabase** - –±—ç–∫–µ–Ω–¥
- **Railway** - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

## üë• –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 1. **–°—É–ø–µ—Ä-–∞–¥–º–∏–Ω** (`super_admin`)
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–∏—Å—Ç–µ–º–æ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞–º–∏/–º–∞–≥–∞–∑–∏–Ω–∞–º–∏ (restaurants)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ (dishes)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π, –∞–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è)
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –¥–∞—à–±–æ—Ä–¥–∞

### 2. **–ú–µ–Ω–µ–¥–∂–µ—Ä** (`manager`)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–±–æ—Ä—â–∏–∫–æ–≤ –Ω–∞ –∑–∞–∫–∞–∑—ã
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫—É—Ä—å–µ—Ä–æ–≤ –Ω–∞ –≥–æ—Ç–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –¥–æ—Å—Ç–∞–≤–∫–∏

### 3. **–°–±–æ—Ä—â–∏–∫** (`collector`)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –û—Ç–º–µ—Ç–∫–∞ –∑–∞–∫–∞–∑–∞ –∫–∞–∫ "—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è" (collecting)
- –û—Ç–º–µ—Ç–∫–∞ –∑–∞–∫–∞–∑–∞ –∫–∞–∫ "–≥–æ—Ç–æ–≤" (ready)

### 4. **–ö—É—Ä—å–µ—Ä** (`courier`)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≥–æ—Ç–æ–≤—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞–∫–∞–∑–∞ –≤ –¥–æ—Å—Ç–∞–≤–∫—É
- –û—Ç–º–µ—Ç–∫–∞ –∑–∞–∫–∞–∑–∞ –∫–∞–∫ "–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è" (delivering)
- –û—Ç–º–µ—Ç–∫–∞ –∑–∞–∫–∞–∑–∞ –∫–∞–∫ "–¥–æ—Å—Ç–∞–≤–ª–µ–Ω" (delivered)

### 5. **–ö–ª–∏–µ–Ω—Ç** (`customer`)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ (–≤–∫–ª—é—á–∞—è –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∑–∞–∫–∞–∑—ã)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### 1. **profiles** (–ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
```sql
- id (UUID, PK) ‚Üí auth.users
- full_name (TEXT)
- phone (TEXT)
- role (user_role ENUM) - —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- is_active (BOOLEAN) - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç–∞
- created_at (TIMESTAMPTZ)
```

#### 2. **restaurants** (–°–∫–ª–∞–¥—ã/–ú–∞–≥–∞–∑–∏–Ω—ã)
```sql
- id (UUID, PK)
- name (TEXT) - –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞
- description (TEXT)
- address (TEXT)
- phone (TEXT)
- image_url (TEXT) - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- is_active (BOOLEAN)
- created_at (TIMESTAMPTZ)
```

#### 3. **categories** (–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
```sql
- id (UUID, PK)
- name (TEXT)
- image_url (TEXT)
- restaurant_id (UUID, FK ‚Üí restaurants)
- created_at (TIMESTAMPTZ)
```

#### 4. **dishes** (–ü—Ä–æ–¥—É–∫—Ç—ã)
```sql
- id (UUID, PK)
- name (TEXT) - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
- description (TEXT)
- price (NUMERIC) - —Ü–µ–Ω–∞ –≤ so'm
- image_url (TEXT)
- category_id (UUID, FK ‚Üí categories, nullable)
- restaurant_id (UUID, FK ‚Üí restaurants)
- is_available (BOOLEAN) - –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- badge_text (TEXT) - —Ç–µ–∫—Å—Ç –±–µ–π–¥–∂–∞ (Mavjud, -15%, Top –∏ —Ç.–¥.)
- created_at (TIMESTAMPTZ)
```

#### 5. **orders** (–ó–∞–∫–∞–∑—ã)
```sql
- id (UUID, PK)
- user_id (UUID, FK ‚Üí profiles, nullable) - –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- restaurant_id (UUID, FK ‚Üí restaurants)
- status (order_status ENUM) - —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
- total_price (NUMERIC) - –æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- address (TEXT) - –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
- phone (TEXT) - —Ç–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞
- customer_email (TEXT) - email –∫–ª–∏–µ–Ω—Ç–∞
- notes (TEXT) - –ø—Ä–∏–º–µ—á–∞–Ω–∏—è
- created_at (TIMESTAMPTZ)
- updated_at (TIMESTAMPTZ)
```

#### 6. **order_items** (–ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞)
```sql
- id (UUID, PK)
- order_id (UUID, FK ‚Üí orders)
- dish_id (UUID, FK ‚Üí dishes)
- quantity (INTEGER) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- price (NUMERIC) - —Ü–µ–Ω–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–∫–∞–∑–∞
```

#### 7. **order_assignments** (–ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤)
```sql
- id (UUID, PK)
- order_id (UUID, FK ‚Üí orders)
- collector_id (UUID, FK ‚Üí profiles, nullable)
- courier_id (UUID, FK ‚Üí profiles, nullable)
- assigned_by (UUID, FK ‚Üí profiles) - –∫—Ç–æ –Ω–∞–∑–Ω–∞—á–∏–ª
- assigned_at (TIMESTAMPTZ)
- status (TEXT)
```

#### 8. **notifications** (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
```sql
- id (UUID, PK)
- user_id (UUID, FK ‚Üí profiles)
- message (TEXT)
- type (TEXT)
- is_read (BOOLEAN)
- created_at (TIMESTAMPTZ)
```

### Enum —Ç–∏–ø—ã

#### **user_role**
```sql
'super_admin' | 'manager' | 'collector' | 'courier' | 'customer'
```

#### **order_status**
```sql
'pending'              - –æ–∂–∏–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
'assigned_to_collector' - –Ω–∞–∑–Ω–∞—á–µ–Ω —Å–±–æ—Ä—â–∏–∫—É
'collecting'           - —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
'ready'                - –≥–æ—Ç–æ–≤ –∫ –¥–æ—Å—Ç–∞–≤–∫–µ
'assigned_to_courier'  - –Ω–∞–∑–Ω–∞—á–µ–Ω –∫—É—Ä—å–µ—Ä—É
'delivering'           - –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è
'delivered'            - –¥–æ—Å—Ç–∞–≤–ª–µ–Ω
'cancelled'            - –æ—Ç–º–µ–Ω–µ–Ω
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
baraka/
‚îú‚îÄ‚îÄ app/                          # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ admin/                    # –ü–∞–Ω–µ–ª—å —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/            # –î–∞—à–±–æ—Ä–¥ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products/             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ restaurants/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ banners/              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users/                # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ manager/                  # –ü–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/            # –î–∞—à–±–æ—Ä–¥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ orders/               # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ collector/                # –ü–∞–Ω–µ–ª—å —Å–±–æ—Ä—â–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders/               # –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ order/[id]/          # –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ courier/                  # –ü–∞–Ω–µ–ª—å –∫—É—Ä—å–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders/               # –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ order/[id]/          # –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ customer/                 # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cart/                 # –ö–æ—Ä–∑–∏–Ω–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ checkout/             # –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders/               # –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product/[id]/        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ restaurant/[id]/     # –ú–µ–Ω—é —Å–∫–ª–∞–¥–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ auth/                     # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/               # –í—Ö–æ–¥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register/            # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                 # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx               # –û—Å–Ω–æ–≤–Ω–æ–π layout
‚îÇ   ‚îî‚îÄ‚îÄ providers.tsx            # React –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
‚îÇ
‚îú‚îÄ‚îÄ components/                   # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ admin/                   # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductsList.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RestaurantsList.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EditDishForm.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ manager/                 # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ OrdersManagement.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ common/                  # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ Header.tsx           # –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ Navbar.tsx           # –ù–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ ImageUpload.tsx       # –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ LogoutButton.tsx
‚îÇ
‚îú‚îÄ‚îÄ lib/                          # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ supabase/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.ts            # –ö–ª–∏–µ–Ω—Ç –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ server.ts           # –ö–ª–∏–µ–Ω—Ç –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ auth.ts              # –£—Ç–∏–ª–∏—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ storage.ts           # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è Storage
‚îÇ
‚îú‚îÄ‚îÄ types/                        # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ database.types.ts       # –¢–∏–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îî‚îÄ‚îÄ supabase/                    # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
    ‚îú‚îÄ‚îÄ 01_initial_schema_products.sql
    ‚îú‚îÄ‚îÄ 02_rls_policies_safe.sql
    ‚îú‚îÄ‚îÄ 03_enable_realtime.sql
    ‚îú‚îÄ‚îÄ 07_allow_anonymous_orders.sql
    ‚îú‚îÄ‚îÄ 09_create_storage_buckets.sql
    ‚îú‚îÄ‚îÄ 11_make_category_optional.sql
    ‚îú‚îÄ‚îÄ 13_add_badge_text.sql
    ‚îî‚îÄ‚îÄ STORAGE_POLICIES_COMPLETE.sql
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (RLS - Row Level Security)

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Row Level Security (RLS)** –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏:

1. **profiles** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å, –∞–¥–º–∏–Ω—ã - –≤—Å–µ
2. **restaurants** - –≤—Å–µ –≤–∏–¥—è—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–∫–ª–∞–¥—ã, –∞–¥–º–∏–Ω—ã - –≤—Å–µ
3. **dishes** - –≤—Å–µ –≤–∏–¥—è—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã, –∞–¥–º–∏–Ω—ã - –≤—Å–µ
4. **orders** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã, –º–µ–Ω–µ–¥–∂–µ—Ä—ã/—Å–±–æ—Ä—â–∏–∫–∏/–∫—É—Ä—å–µ—Ä—ã - –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ
5. **order_items** - –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã
6. **order_assignments** - –¥–æ—Å—Ç—É–ø –ø–æ —Ä–æ–ª—è–º

### –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–æ–ª–∏:
```sql
CREATE OR REPLACE FUNCTION get_user_role(user_id UUID)
RETURNS user_role AS $$
  SELECT role FROM profiles WHERE id = user_id;
$$ LANGUAGE sql SECURITY DEFINER;
```

---

## üóÑÔ∏è Supabase Storage

### Buckets (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è —Ñ–∞–π–ª–æ–≤):

1. **restaurants** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∫–ª–∞–¥–æ–≤/–º–∞–≥–∞–∑–∏–Ω–æ–≤
2. **dishes** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤
3. **categories** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
4. **banners** - –±–∞–Ω–Ω–µ—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞:
- **–ü—É–±–ª–∏—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ** - –≤—Å–µ –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å/—É–¥–∞–ª—è—Ç—å —Ñ–∞–π–ª—ã

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–∫–∞–∑–∞

```
1. –ö–ª–∏–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É (localStorage)
   ‚Üì
2. –û—Ñ–æ—Ä–º–ª—è–µ—Ç –∑–∞–∫–∞–∑ ‚Üí —Å—Ç–∞—Ç—É—Å: 'pending'
   ‚Üì
3. –ú–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Å–±–æ—Ä—â–∏–∫–∞ ‚Üí —Å—Ç–∞—Ç—É—Å: 'assigned_to_collector'
   ‚Üì
4. –°–±–æ—Ä—â–∏–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–±–æ—Ä–∫—É ‚Üí —Å—Ç–∞—Ç—É—Å: 'collecting'
   ‚Üì
5. –°–±–æ—Ä—â–∏–∫ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–±–æ—Ä–∫—É ‚Üí —Å—Ç–∞—Ç—É—Å: 'ready'
   ‚Üì
6. –ú–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –∫—É—Ä—å–µ—Ä–∞ ‚Üí —Å—Ç–∞—Ç—É—Å: 'assigned_to_courier'
   ‚Üì
7. –ö—É—Ä—å–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑ ‚Üí —Å—Ç–∞—Ç—É—Å: 'delivering'
   ‚Üì
8. –ö—É—Ä—å–µ—Ä –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–∫–∞–∑ ‚Üí —Å—Ç–∞—Ç—É—Å: 'delivered'
```

---

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ UI/UX

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`app/page.tsx`):
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ —Å:
  - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
  - –ù–∞–∑–≤–∞–Ω–∏–µ–º
  - –û–ø–∏—Å–∞–Ω–∏–µ–º (–Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ)
  - –¶–µ–Ω–æ–π –≤ so'm
  - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –±–µ–π–¥–∂–µ–º (badge_text)
  - –ö–Ω–æ–ø–∫–∞–º–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É (+/-)
- –ö–æ—Ä–∑–∏–Ω–∞ –≤ localStorage
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö, 3-4 –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ)

### –ö–æ—Ä–∑–∏–Ω–∞:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–π —Å—É–º–º—ã
- –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é –∑–∞–∫–∞–∑–∞

### –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞:
- –§–æ—Ä–º–∞ —Å –∞–¥—Ä–µ—Å–æ–º, —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º, email
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ (–±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞

---

## üìù –ö–ª—é—á–µ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

1. **01_initial_schema_products.sql** - —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
2. **02_rls_policies_safe.sql** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ RLS –ø–æ–ª–∏—Ç–∏–∫
3. **03_enable_realtime.sql** - –≤–∫–ª—é—á–µ–Ω–∏–µ Realtime –¥–ª—è –∑–∞–∫–∞–∑–æ–≤
4. **07_allow_anonymous_orders.sql** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
5. **09_create_storage_buckets.sql** - —Å–æ–∑–¥–∞–Ω–∏–µ Storage buckets
6. **11_make_category_optional.sql** - category_id —Å—Ç–∞–ª –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º
7. **13_add_badge_text.sql** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è badge_text –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤

---

## üöÄ –î–µ–ø–ª–æ–π

### Frontend (Vercel):
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - `SUPABASE_SERVICE_ROLE_KEY`
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push

### Backend (Supabase):
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Ä–≤–∏—Å—ã —É–∂–µ —Ö–æ—Å—Ç—è—Ç—Å—è –Ω–∞ Supabase
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ SQL –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ SQL Editor
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Storage buckets –∏ –ø–æ–ª–∏—Ç–∏–∫–∏

---

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

---

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```json
{
  "next": "16.1.1",
  "react": "19.2.3",
  "@supabase/supabase-js": "^2.90.1",
  "@supabase/ssr": "^0.8.0",
  "tailwindcss": "^4",
  "typescript": "^5",
  "react-hook-form": "^7.70.0",
  "zod": "^4.3.5"
}
```

---

## üéØ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏, —Å–∫–ª–∞–¥–∞–º–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- –°–∏—Å—Ç–µ–º–∞ –∑–∞–∫–∞–∑–æ–≤ —Å –ø–æ–ª–Ω—ã–º –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –∑–∞–∫–∞–∑—ã (–±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ Supabase Storage
- Realtime –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –ö–æ—Ä–∑–∏–Ω–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (localStorage)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –±–µ–π–¥–∂–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö —Ç–æ–≤–∞—Ä–æ–≤
- –í–∞–ª—é—Ç–∞: so'm (—É–∑–±–µ–∫—Å–∫–∏–µ —Å—É–º—ã)

### üîÑ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ / –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤
- –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ —Å–∫–∏–¥–∫–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `README.md` - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `DEPLOYMENT.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
- `QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `SUPABASE_SETUP.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase
- `STORAGE_SETUP.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Storage
- `PROJECT_STATUS.md` - —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

---

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm install          # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm run dev         # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build       # –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run start       # –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –≤–µ—Ä—Å–∏–∏
npm run lint        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issues –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

---

**–í–µ—Ä—Å–∏—è:** 0.1.0  
**–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025


